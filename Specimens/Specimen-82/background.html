<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Monitors Background</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #000;
        }
        .monitor {
            position: absolute;
            width: 200px;
            height: 150px;
            border: 2px solid;
            box-shadow: 0 0 10px;
            padding: 10px;
            box-sizing: border-box;
            color: #fff;
        }
    </style>
</head>
<body>
    <script>
        function createMonitor(color, zIndex, buttonLabel, id, cssClass) {
            const monitor = document.createElement('div');
            monitor.className = 'monitor ' + cssClass;
            monitor.id = id;
            monitor.style.cssText = `
                background: ${color};
                border-color: ${color.replace('a', 'c').replace(')', ', 0.8)')};
                box-shadow: 0 0 10px ${color.replace('a', 'c').replace(')', ', 0.8)')};
                z-index: ${zIndex};
                top: ${Math.random() * 80}vh;
                left: ${Math.random() * 80}vw;
            `;

            monitor.innerHTML = `
                <h3>${id}</h3>
                <p>Status: Active</p>
                <button onclick="sendMessage('${id}')">${buttonLabel}</button>
            `;
            document.body.appendChild(monitor);
        }

        function sendMessage(senderId) {
            const message = { type: 'monitorMessage', sender: senderId };
            window.parent.postMessage(message, '*');
            console.log(`${senderId} sent a message to the main page.`);
        }

        // Monitor 1
        createMonitor('rgba(0, 255, 204, 0.5)', Math.floor(Math.random() * 10), 'Send to Next', 'monitor1', 'monitor-one');
        // Monitor 2
        createMonitor('rgba(255, 204, 0, 0.5)', Math.floor(Math.random() * 10), 'Ping Next', 'monitor2', 'monitor-two');
        // Monitor 3
        createMonitor('rgba(255, 0, 204, 0.5)', Math.floor(Math.random() * 10), 'Transmit', 'monitor3', 'monitor-three');
        
        window.addEventListener('message', (event) => {
            if (event.data.type === 'louseMessage') {
                console.log(`Received message from the louse: ${event.data.message}`);
            }
        });

    </script>
</body>
</html>
